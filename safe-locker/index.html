<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secure Online Locker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.card {
  background: #020617;
  padding: 25px;
  border-radius: 10px;
  width: 100%;
  max-width: 400px;
  box-shadow: 0 0 20px #000;
}

input, button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border-radius: 6px;
  border: none;
}

input {
  background: #1e293b;
  color: #fff;
}

button {
  background: #2563eb;
  color: #fff;
  cursor: pointer;
}

button:hover {
  background: #1d4ed8;
}

.hidden { display: none; }

.file {
  background: #1e293b;
  padding: 10px;
  margin-top: 8px;
  border-radius: 6px;
  font-size: 14px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="card" id="loginBox">
  <h2>üîê Secure Locker</h2>
  <input type="password" id="password" placeholder="Enter Password">
  <button onclick="login()">Unlock</button>
  <p id="msg" style="color:red"></p>
</div>

<!-- LOCKER -->
<div class="card hidden" id="lockerBox">
  <h2>üìÇ My Locker</h2>
  <input type="file" id="fileInput">
  <button onclick="uploadFile()">Upload</button>
  <div id="files"></div>
  <button style="margin-top:15px;background:#dc2626" onclick="logout()">Lock</button>
</div>

<script>
const PASSWORD_HASH = "e99a18c428cb38d5f260853678922e03"; 
// password = abc123

function md5(str) {
  return CryptoJS.MD5(str).toString();
}

function login() {
  const pass = document.getElementById("password").value;
  if (md5(pass) === PASSWORD_HASH) {
    localStorage.setItem("unlocked","1");
    showLocker();
  } else {
    document.getElementById("msg").innerText = "Wrong Password";
  }
}

function showLocker() {
  document.getElementById("loginBox").classList.add("hidden");
  document.getElementById("lockerBox").classList.remove("hidden");
  loadFiles();
}

function logout() {
  localStorage.removeItem("unlocked");
  location.reload();
}

function uploadFile() {
  const file = document.getElementById("fileInput").files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function() {
    let files = JSON.parse(localStorage.getItem("lockerFiles") || "[]");
    files.push({ name: file.name, data: reader.result });
    localStorage.setItem("lockerFiles", JSON.stringify(files));
    loadFiles();
  };
  reader.readAsDataURL(file);
}

function loadFiles() {
  const filesDiv = document.getElementById("files");
  filesDiv.innerHTML = "";
  let files = JSON.parse(localStorage.getItem("lockerFiles") || "[]");
  files.forEach(f => {
    const div = document.createElement("div");
    div.className = "file";
    div.innerHTML = `<a href="${f.data}" download="${f.name}" style="color:#60a5fa">${f.name}</a>`;
    filesDiv.appendChild(div);
  });
}

if (localStorage.getItem("unlocked")) showLocker();
</script>

<!-- CryptoJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

</body>
</html>
